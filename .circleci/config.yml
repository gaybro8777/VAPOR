version: 2
jobs:
  build:
    docker:
      - image: sgpearse/vapor3-ubuntu16:latest


    steps:
      - checkout

      - run:
          name: cmake and make
          command: |
            cd /VAPOR/build
            cmake ..
            make

  printTime:
    docker:
      - image: sgpearse/vapor3-ubuntu:latest

    steps:
      - run:
        name: Print the Current Time
        command: date

workflows:
  version: 2
  build_and_print:
    jobs:
      - build
      - print:
          requires:
            - build
          filters:
            branches:
              only: circleCI
